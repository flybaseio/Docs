---
layout: page
title: ReactFly API Refence - Web Development Guide - Helper Libraries - Developer Docs
class: contact-page
permalink: /web/libraries/react/reference/index.html
---

<h2>ReactFly Guide</h2>
<div class="container">
	<ol class="breadcrumb">
		<li><a href="/">Developer Docs</a></li>
		<li><a href="/web/">Javascript</a></li>
		<li><a href="/web/libraries">Libraries</a></li>
		<li><a href="/web/libraries/react">ReactFly</a></li>
		<li class="active">API Reference</li>
	</ol>

	<div class="text-center well">
		<h3>ReactFly</h3>
		<a href="https://cdn.flybase.io/reactfly.min.js" class="btn btn-primary">Download</a>
		<a href="https://github.com/flybaseio/reactfly" class="btn btn-primary">Contribute on GitHub</a>
	</div>
	
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Initialization</h3>
		</div>
		<div class="panel-body">
<p>To add the ReactFly mixin to your React component, add it to your component's <code>mixins</code> list:</p>

<pre><code class="language-javascript">var ExampleComponent = React.createClass({
  mixins: [ReactFlyMixin],
  ...
});
</code></pre>
		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">bindAsArray(flybaseRef, bindVar, cancelCallback)</h3>
		</div>
		<div class="panel-body">

<h3 id="description">Description</h3>

<p>Creates a one-way binding from a list of nodes in your Flybase app to an array in <code>this.state</code>
of your React component. The name of the array stored in <code>this.state</code> is specified using the
<code>bindVar</code> variable.</p>

<h3 id="arguments">Arguments</h3>

<table class="table table-striped">
<thead>
<tr>
	<th>Argument</th>
	<th>Type</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td class="text-left"><code>flybaseRef</code></td>
	<td class="text-left"><code>DatabaseRef</code></td>
	<td class="text-left">The app reference to which we are binding.</td>
</tr>
<tr>
	<td class="text-left"><code>bindVar</code></td>
	<td class="text-left">String</td>
	<td class="text-left">The name of the attribute within <code>this.state</code> which will be bound to your app.</td>
</tr>
<tr>
	<td class="text-left"><code>cancelCallback</code></td>
	<td class="text-left">Function</td>
	<td class="text-left">An optional callback that will be notified in case of errors. This callback will be passed an <code>Error</code> object indicating why the failure occurred.</td>
</tr>
</tbody>
</table>

<h3 id="examples">Examples</h3>

<p>The following code will make the data stored at the <code>/items</code> node as an array and make it available
as <code>this.state.items</code> within your component:</p>

<pre><code class="language-javascript">componentWillMount: function() {
    this.bindAsArray(flybaseRef, "items");
}
</code></pre>

<p>Each record in the bound array will contain a <code>.key</code> property which specifies the key where the
record is stored. So if you have data with an <code>_id</code> of <code>uniquedocid-1</code>, then  the record for that data
will have a <code>.key</code> of <code>"uniquedocid-1"</code>.</p>

<p>If an individual record's value in the app is a primitive (boolean, string, or number), the
value will be stored in the <code>.value</code> property. If the individual record's value is an object, each
of the object's properties will be stored as properties of the bound record. As an example, let's
assume the <code>/items</code> node you bind to contains the following data:</p>

<pre><code class="language-javascript">{
  "items": {
    "uniquedocid-1": 100,
    "uniquedocid-2": {
      "first": "Lucy",
      "last": "Furious""
    },
    "uniquedocid-3": "foo"
  }
}
</code></pre>

<p>The resulting bound array stored in <code>this.state.items</code> will be:</p>

<pre><code class="language-javascript">[
  {
    ".key": "uniquedocid-1",
    ".value": 100
  },
  {
    ".key": "uniquedocid-2",
    "first": "Lucy"
    "last": "Furious"
  },
  {
    ".key": "uniquedocid-3",
    ".value": "foo"
  }
]
</code></pre>

		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Initialization</h3>
		</div>
		<div class="panel-body">
<h2 id="bindasobjectflybaserefbindvarcancelcallback">bindAsObject(flybaseRef, bindVar, cancelCallback)</h2>

<h3 id="description-1">Description</h3>

<p>Creates a one-way binding from node in your Flybase app to an object in this.state of your
React component. The name of the object stored in <code>this.state</code> is specified using the <code>bindVar</code>
variable.</p>

<h3 id="arguments-1">Arguments</h3>

<table class="table table-striped">
<thead>
<tr>
	<th>Argument</th>
	<th>Type</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td class="text-left"><code>flybaseRef</code></td>
	<td class="text-left"><code>DatabaseRef</code></td>
	<td class="text-left">The app reference to which we are binding.</td>
</tr>
<tr>
	<td class="text-left"><code>bindVar</code></td>
	<td class="text-left">String</td>
	<td class="text-left">The name of the attribute within <code>this.state</code> which will be bound to your app.</td>
</tr>
<tr>
	<td class="text-left"><code>cancelCallback</code></td>
	<td class="text-left">Function</td>
	<td class="text-left">An optional callback that will be notified in case of errors. This callback will be passed an <code>Error</code> object indicating why the failure occurred.</td>
</tr>
</tbody>
</table>

<h3 id="examples-1">Examples</h3>

<p>With Flybase, you can perform actual queries, so for example, the following code will perform a query to return the user with an <code>_id</code> of <code>uniquedocid-2</code> as an object and make it available as <code>this.state.user</code> within your component:</p>

<pre><code class="language-javascript">componentWillMount: function() {
  var ref = flybase.where({"_id": "uniquedoc-2"}), 'items');
  this.bindAsObject(ref, "user");
}
</code></pre>

<p>The bound object will contain a <code>.key</code> property which specifies the key where the object is stored.
So in the code above where we bind to a user with the <code>_id</code> of <code>uniquedoc-2</code>, the bound object will have a <code>.key</code> of <code>"uniquedoc-2"</code>.</p>

<p>If the bound node's value in the app is a primitive (boolean, string, or number), the value
will be stored in the <code>.value</code> property. If the bound node's value is an object, each of the
object's properties will be stored as properties of the bound object. As an example, let's assume
the <code>uniquedoc-2</code> document you bind comes from the following data:</p>

<pre><code class="language-javascript">{
  "users": {
    "uniquedoc-2": true
  }
}
</code></pre>

<p>The resulting bound object stored in <code>this.state.user</code> will be:</p>

<pre><code class="language-javascript">{
  ".key": "uniquedoc-2",
  ".value": true
}
</code></pre>

<p>As another example, let's assume the <code>uniquedoc-2</code> document contains an object:</p>

<pre><code class="language-javascript">{
  "users": {
    {
      "_id": "uniquedoc-2",
      "first": "lucy",
      "last": "Furious"
    }
  }
}
</code></pre>

<p>The resulting bound object stored in <code>this.state.user</code> will be:</p>

<pre><code class="language-javascript">{
  ".key": "uniquedoc-2",
  "first": "Lucy",
  "last": "Furious"
}
</code></pre>

<p>As a final example, let's assume the <code>uniquedoc-2</code> document does not exist (that is, it has a value of
<code>null</code>). The resulting bound object stored in <code>this.state.user</code> will be:</p>

<pre><code class="language-javascript">{
  ".key": "uniquedoc-2",
  ".value": null
}
</code></pre>

		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">unbind(bindVar)</h3>
		</div>
		<div class="panel-body">

<h3>Description</h3>

<p>Unbinds the binding between your app and the inputted bind variable.</p>

<h3>Arguments</h3>

<table class="table table-striped">
<thead>
<tr>
	<th>Argument</th>
	<th>Type</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td class="text-left"><code>bindVar</code></td>
	<td class="text-left">string</td>
	<td class="text-left">The name of the attribute within <code>this.state</code> which will be unbound from your app.</td>
</tr>
</tbody>
</table>

<p>The following code will unbind <code>this.state.items</code> and set its value to <code>undefined</code>:</p>

<pre><code class="language-javascript">componentWillUnmount: function() {
  this.unbind("items");
}
</code></pre>
		</div>
	</div>
</div>